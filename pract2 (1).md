# Практическое занятие №2. Менеджеры пакетов

П.Н. Советов, РТУ МИРЭА

Разобраться, что представляет собой менеджер пакетов, как устроен пакет, как читать версии стандарта semver. Привести примеры программ, в которых имеется встроенный пакетный менеджер.

## Задача 1

 скрипт на python:

import matplotlib
import pkg_resources

def print_package_info(package_name):
    try:
        # Получаем информацию о пакете
        package = pkg_resources.get_distribution(package_name)

        print(f"Имя пакета: {package.project_name}")
        print(f"Версия: {package.version}")
        print(f"Местоположение: {package.location}")
        print(f"Зависимости: {package.requires()}")
    except pkg_resources.DistributionNotFound:
        print(f"Пакет '{package_name}' не найден.")

if __name__ == "__main__":
    package_name = "matplotlib"
    print_package_info(package_name)

    # Вывод версии напрямую из matplotlib
    print(f"Версия matplotlib: {matplotlib.__version__}")

Импорт библиотек: Мы импортируем matplotlib и pkg_resources.
Получение информации: Используем pkg_resources.get_distribution() для получения информации о пакете.
Вывод данных: Выводим имя пакета, его версию, местоположение и зависимости.
Вывод версии напрямую: Мы также выводим версию matplotlib, используя matplotlib.__version__.


![image](https://github.com/user-attachments/assets/402dc920-d1c5-444c-8090-b842d4c8d82c)


Если вы хотите установить matplotlib без использования менеджера пакетов, вы можете скачать пакет из репозитория PyPI и установить его вручную. Вот шаги, которые можно выполнить:

Перейдите на страницу PyPI для matplotlib: matplotlib на PyPI
Скачайте пакет:
На странице выберите нужную версию и скачайте .tar.gz или .whl файл.
Распакуйте архив: Если вы скачали .tar.gz, распакуйте его:


![image](https://github.com/user-attachments/assets/d91e26e1-abeb-411f-83e5-988739c25bb8)


Перейдите в директорию: Зайдите в распакованную директорию cd matplotlib-X.Y.Z
и Установите пакет: Выполните установку с помощью команды:python3 setup.py install



## Задача 2

Вывести служебную информацию о пакете express (JavaScript). Разобрать основные элементы содержимого файла со служебной информацией из пакета. Как получить пакет без менеджера пакетов, прямо из репозитория?

## Задача 3

Сформировать graphviz-код и получить изображения зависимостей matplotlib и express.

## Задача 4

**Следующие задачи можно решать с помощью инструментов на выбор:**

* Решатель задачи удовлетворения ограничениям (MiniZinc).
* SAT-решатель (MiniSAT).
* SMT-решатель (Z3).

Изучить основы программирования в ограничениях. Установить MiniZinc, разобраться с основами его синтаксиса и работы в IDE.

Решить на MiniZinc задачу о счастливых билетах. Добавить ограничение на то, что все цифры билета должны быть различными (подсказка: используйте all_different). Найти минимальное решение для суммы 3 цифр.

## Задача 5

Решить на MiniZinc задачу о зависимостях пакетов для рисунка, приведенного ниже.

![](images/pubgrub.png)

## Задача 6

Решить на MiniZinc задачу о зависимостях пакетов для следующих данных:

```
root 1.0.0 зависит от foo ^1.0.0 и target ^2.0.0.
foo 1.1.0 зависит от left ^1.0.0 и right ^1.0.0.
foo 1.0.0 не имеет зависимостей.
left 1.0.0 зависит от shared >=1.0.0.
right 1.0.0 зависит от shared <2.0.0.
shared 2.0.0 не имеет зависимостей.
shared 1.0.0 зависит от target ^1.0.0.
target 2.0.0 и 1.0.0 не имеют зависимостей.
```

## Задача 7

Представить задачу о зависимостях пакетов в общей форме. Здесь необходимо действовать аналогично реальному менеджеру пакетов. То есть получить описание пакета, а также его зависимости в виде структуры данных. Например, в виде словаря. В предыдущих задачах зависимости были явно заданы в системе ограничений. Теперь же систему ограничений надо построить автоматически, по метаданным.

## Полезные ссылки

Semver: https://devhints.io/semver

Удовлетворение ограничений и программирование в ограничениях: http://intsys.msu.ru/magazine/archive/v15(1-4)/shcherbina-053-170.pdf

Скачать MiniZinc: https://www.minizinc.org/software.html

Документация на MiniZinc: https://www.minizinc.org/doc-2.5.5/en/part_2_tutorial.html

Задача о счастливых билетах: https://ru.wikipedia.org/wiki/%D0%A1%D1%87%D0%B0%D1%81%D1%82%D0%BB%D0%B8%D0%B2%D1%8B%D0%B9_%D0%B1%D0%B8%D0%BB%D0%B5%D1%82
